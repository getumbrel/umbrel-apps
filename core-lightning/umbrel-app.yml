manifestVersion: 1.1
id: core-lightning
category: bitcoin
name: Core Lightning
version: "25.09.3-hotfix.7"
tagline: Run your personal Core Lightning node
description: >-
  Get started with the Lightning network today with Core Lightning - a
  Lightning Network implementation focusing on spec compliance and performance.


  The Lightning Network allows ultra cheap and almost instant Bitcoin transactions.
  By running a Lightning node, you can not only self-custody your Bitcoin on
  Lightning, but also earn sats by routing payments on the network.


  Core Lightning and Application powered by Blockstream.

developer: Core Lightning
website: https://blockstream.com/lightning/
dependencies:
  - bitcoin
repo: https://github.com/ElementsProject/cln-application
support: https://community.corelightning.org/home
port: 2103
gallery:
  - 1.jpg
  - 2.jpg
  - 3.jpg
path: ""
defaultPassword: ""
submitter: Blockstream
submission: https://github.com/getumbrel/umbrel-apps/pull/475
releaseNotes: >-
  This hotfix completes the volume baseline for the Bitcoin/Lightning mining stack,
  and consolidates all CLN REST API naming fixes applied since hotfix.5.


  **New in hotfix.7 — datum volume baseline:**

  The `datum` app now mounts a persistent `logs` volume (`${APP_DATA_DIR}/data/logs:/app/logs`),
  giving the DATUM gateway a stable location for log files and operational state across
  container restarts and DR (disaster-recovery) events. Previously, any file-based log
  or data written inside the container was lost on restart, leaving mining operators blind
  during node reconstruction.


  **From hotfix.6 — canonical CLNRest app-tier exports:**

  Two new canonical app-tier exports were added to `exports.sh` to unambiguously identify
  the modern CLNRest API (3rd-gen, built into CLN from v23.08+):

  - `APP_CORE_LIGHTNING_CLNREST_PORT` — the clnrest listen port (2107)

  - `APP_CORE_LIGHTNING_CLNREST_HOST` — the clnrest daemon IP

  The legacy `APP_CORE_LIGHTNING_REST_PORT` / `REST_HOST` are retained as backward-compat
  aliases so RTL, LNbits, Boltz and torrc.template continue to work without changes.
  This closes the DR gap where users recovering a CLN wallet could not distinguish the
  deprecated c-lightning-REST (2nd-gen) plugin endpoint from the modern clnrest API.


  **Previous release notes (hotfix.5):**


  This hotfix release completes the variable naming gap-map fix: all shell exports in exports.sh now
  follow the consistent `APP_CORE_LIGHTNING_*` prefix convention. Previously, five variables
  (`CORE_LIGHTNING_REST_PORT`, `CORE_LIGHTNING_PATH`, `COMMANDO_CONFIG`, `APP_CONFIG_DIR`, `APP_MODE`)
  were missing their app-scoped prefix, causing DR (disaster-recovery) and harness-reconnection
  failures on external consumers such as RasPi5. All docker-compose.yml, torrc.template, and
  dependent RTL service references have been updated to use the new canonical names.


  **Previous release notes (hotfix.3):**


  This hotfix release adds a dedicated `APP_CORE_LIGHTNING_REST_HOST` export to exports.sh,
  mapping the clnrest endpoint to the daemon's internal IP. This was missing from the hotfix.2 build,
  preventing other apps from reliably discovering the REST API host via the standard
  `APP_CORE_LIGHTNING_*` variable convention. The Tor hidden service and RTL connection URL
  now reference this new variable directly.


  **Previous release notes (hotfix.2):**


  This hotfix release restores internal connectivity for Umbrel apps (RTL, LNbits, etc.) that use the Core Lightning REST API.
  The built-in clnrest plugin is now bound to all network interfaces (0.0.0.0) instead of only the specific Docker internal IP,
  making it accessible from other Umbrel app Docker networks.


  **Previous release notes (hotfix.1):**


  This hotfix release fixes an issue where users were unable to connect external wallet clients to their Core Lightning node.
  If you were previously unable to connect a wallet, please go to "Settings" in the top right > Connect wallet > and select your desired connection method to see corrected connection details.


  **v25.09.3:**


  This updates cln-application to v25.07.3, lightningd to v25.09.3, and replaces the legacy c-lightning-rest service with the built-in REST interface of lightningd.


  **CLN Application v25.07.3:**
    - Proactive mitigation against a widespread npm ecosystem threat involving malicious code in popular packages.
    - Updated and streamlined environment variables for improved configuration and usability
    - Added support for running Commando over secure WebSocket (eg. wss-proxy) connections
    - Removed version and commit suffix from node aliases for a cleaner display
    - Updated BKPR date format from YYYY-MM-DD to UI standard DD MMM, YYYY
    - Added infinite scroll support for BTC Transactions, CLN Offers, and CLN Transactions

  **CLN v25.09.3:**
    - Bookkeeper has been migrated into core lightning, allowing visibility into payments, fees and channel activities.
    - xpay can now directly pay BIP353 addresses (like ₿cln@blockstream.com) and simple offers without extra steps.
    - Better feedback when channel creation fails due to capacity limits.
    - Now limiting the number of parts a payment can be split on xpay and askrene
    - Reckless now supports the modern uv package manager for Python plugins.
    - Improvements to the rate of feasible solutions found in the main loop of the solver on askrene
    - Splicing improvements allow for better compatibility with Eclair and continuous routing during channel modifications.
    - Improve security by ensuring all peers must support channel type.
    - Payment secrets now mandatory in BOLT11 invoices for better payment protection.

backupIgnore:
  - data/lightningd/bitcoin/lightningd.sqlite3
